[build]
  command = "npm run build"
  publish = "dist"

# Used during production to redirect API requests from the Netlify domain to your backend on Render
[[redirects]]
  from = "/users/*"
  to = "https://eventschedulingsystem.onrender.com/api/v1/users/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/api/v1/*"
  to = "https://eventschedulingsystem.onrender.com/api/v1/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/availability/*"
  to = "https://eventschedulingsystem.onrender.com/api/v1/availability/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/attendee/*"
  to = "https://eventschedulingsystem.onrender.com/api/v1/attendee/:splat"
  status = 200
  force = true

[[headers]]
  for = "/*"
    [headers.values]
    Access-Control-Allow-Origin = "*"

[[headers]]
  for = "/*.js"
    [headers.values]
    Content-Type = "text/javascript"

[[headers]]
  for = "/*.mjs"
    [headers.values]
    Content-Type = "text/javascript"